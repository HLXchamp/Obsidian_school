### 需求分析与设计

![[Pasted image 20240529094021.png|211]]
![[Pasted image 20240529094125.png|475]]
![[Pasted image 20240529094142.png|475]]
### 易错点

要返回的是VO对象，但VO对象里没有订单相关信息。

破案了，因为VO继承了Orders对象。。。

![[Pasted image 20240529100245.png|475]]
### 代码开发

OrderController：

```java
/**  
 * 查询订单详情  
 * @param id  
 * @return  
 */  
@GetMapping("/orderDetail/{id}")  
@ApiOperation("查询订单详情")  
public Result<OrderVO> getDetail(@PathVariable Long id) {  
    log.info("要查询的订单id：{}", id);  
    OrderVO orderVO = orderService.getDetail(id);  
    return Result.success(orderVO);  
}
```

OrderService：

```java
/**  
 * 查询订单详情  
 * @param id  
 * @return  
 */  
OrderVO getDetail(Long id);
```

```java
@Override  
public OrderVO getDetail(Long id) {  
    OrderVO orderVO = new OrderVO();  
    Orders order = orderMapper.getById(id);  
  
    List<OrderDetail> list = orderDetailMapper.getById(id);  
    BeanUtils.copyProperties(order, orderVO);  
    orderVO.setOrderDetailList(list);  
  
    return orderVO;  
}
```

OrderMapper：

```java
/**  
 * 查询订单详情  
 * @param id  
 * @return  
 */  
@Select("select * from orders where id = #{id}")  
Orders getById(Long id);
```

### 测试

![[Pasted image 20240529101402.png|303]]

![[Pasted image 20240529101416.png|313]]