### 需求分析与设计

![[Pasted image 20240522200551.png|500]]

![[Pasted image 20240522200611.png]]

### 代码开发

ShoppingCartController：

```java
@GetMapping("/list")  
@ApiOperation("查看购物车")  
public Result<List<ShoppingCart>> list(){  
    List<ShoppingCart> list = shoppingCartService.showShoppingCart();  
    return Result.success(list);  
}
```

ShoppingCartService，mapper中的list方法在缓存菜品时就已经实现过：

```java
@Override  
public List<ShoppingCart> showShoppingCart() {  
    //获取当前微信用户的id  
    Long userId = BaseContext.getCurrentId();  
    ShoppingCart shoppingCart = new ShoppingCart();  
    shoppingCart.setUserId(userId);  
    List<ShoppingCart> list = shoppingCartMapper.list(shoppingCart);  
    return list;  
}
```

### 测试

没问题：

![[Pasted image 20240522201530.png|294]]