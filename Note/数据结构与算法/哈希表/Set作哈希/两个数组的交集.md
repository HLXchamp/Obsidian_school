![[Pasted image 20240128214234.png]]

**使用数组来做哈希的题目，是因为题目都限制了数值的大小。**

而如果没有限制数值的大小，就无法使用数组来做哈希表了。

**而且如果哈希值比较少、特别分散、跨度非常大，使用数组就造成空间的极大浪费。这时候就要考虑用 set ！！！**

<font color="#d83931">`Set`是用于存储一组不重复元素的集合！</font>

这里我们使用Java里的`HashSet`，因为它能自动去重！！！

![[Pasted image 20240302210131.png|550]]

```java
class Solution {
    public int[] intersection(int[] nums1, int[] nums2) {
        Set<Integer> set = new HashSet<>();
        Set<Integer> result = new HashSet<>();
        for(int i : nums1){
            set.add(i);
        }
        for(int i : nums2){
            if(set.contains(i)){
                result.add(i);
            }
        }

        int[] arr = new int[result.size()]; // 创建一个具有相同大小的整数数组
        int index = 0;
        for (int num : result) {
            arr[index++] = num; // 将集合中的元素转换为整数值，并存储到数组中
        }

        return arr;
    }
}
```

注意事项：
- 要学会**set对象**的创建，新增操作`add()`和查询操作`contains()`;
- 要学会怎么将**对象数组**转换成**数组**！


这道题若限制了数组的长度也可以用数组操作：

```java
class Solution {
    public int[] intersection(int[] nums1, int[] nums2) {
        int[] hash1 = new int[1001];
        int[] hash2 = new int[1001];
        for(int i : nums1){
            hash1[i]++;
        }
        for(int i : nums2){
            hash2[i]++;
        }
        Set<Integer> result = new HashSet<>(); //数组不能用add操作
        for(int i = 0; i < 1001; i++){
            if(hash1[i] > 0 && hash2[i] > 0){
                result.add(i);
            }
        }
        int[] arr = new int[result.size()]; // 创建一个具有相同大小的整数数组
        int index = 0;
        for (int num : result) {
            arr[index++] = num; // 将集合中的元素转换为整数值，并存储到数组中
        }

        return arr;
    }
}
```

注意事项：
- Java 中的**数组**是一种**固定大小的数据结构**，一旦创建后，其大小就无法更改。因此，数组不支持像列表那样的动态添加元素的操作，也没有 `add` 方法可用；
- 判断只需要`hash1[i] > 0 && hash2[i] > 0`就说明是两个数组重合的内容了。