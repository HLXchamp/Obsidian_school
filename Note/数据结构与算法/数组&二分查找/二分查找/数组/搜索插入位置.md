![[Pasted image 20230927112913.png]]

```c
int searchInsert(int* nums, int numsSize, int target){
    int left = 0;
    int right = numsSize-1; //注意范围
    int middle = 0;
    while(left <= right){ //注意是小于等于
        middle = left+(right-left)/2; //防止内存溢出
        if(nums[middle] == target){
            return middle;
        }
        else if(nums[middle] < target){
            left = middle+1;
        }
        else{
            right = middle-1;
        }
    }
    return left; //直接返回left就好
}
```

对于二分法，要考虑左右区间的状态，如果是左闭右闭，`[left, right]`，则判定条件是 
`while(left <= right)`，之后`left = middle+1`，`right = middle-1`。
如果是左闭右开，`[left, right)` 则判定条件是 
`while(left < right)`，之后`left = middle+1`，`right = middle`。

 防止内存溢出：可以做位运算或者`middle = left+(right-left)/2; `

```java
class Solution {
    public int search(int[] nums, int target) {
        int front = 0;
        int last = nums.length - 1;
        while(front <= last){ //front等于last时有意义
            int middle = front + ((last - front) >> 1) ; //middle写在里面更好，注意写法，右移比除以2好
            if(nums[middle] == target){
                return middle;
            }
            else if(nums[middle] < target){
                front = middle + 1;
            }
            else{
                last = middle - 1; //不减一就会超出时间限制
            }
        }
        return -1;
    }
}
```
