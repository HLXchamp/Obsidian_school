![[Pasted image 20240722153218.png]]

注：
- middle一定要更新，且是在while里更新
- middle是false，那么front就要更新成`middle + 1`，因为此时middle不是错误版本，所以下一个版本才可能是错误版本！
- 最后返回的是front，middle在循环外没有定义。

```java
/* The isBadVersion API is defined in the parent class VersionControl.
      boolean isBadVersion(int version); */

public class Solution extends VersionControl {
    public int firstBadVersion(int n) {
        int front = 1;
        int end = n;
        // if(isBadVersion(front) == true){
        //     return front;
        // }
        while(front < end){
            int middle = front + (end - front) / 2; // 更新middle
            if(isBadVersion(middle) == true){
                end = middle; // middle可能是第一个错误版本
            } else{
                front = middle + 1; // middle不是错误版本，所以下一个版本才可能是错误版本
            }
        }
        return front;
    }
}
```
