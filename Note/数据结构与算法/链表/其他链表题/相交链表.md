![[Pasted image 20240715173912.png]]
![[Pasted image 20240715173948.png]]
![[Pasted image 20240715174000.png|650]]

#### 方法一：暴力两层while循环

用两个while循环分别比较headA和headB两个链表的每一个元素。

```java
public class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        ListNode pre = headB;
        while(headA != null){
            while(headB != null){
                if(headA == headB){
                    return headA;
                }
                else{
                    headB = headB.next;
                }
            }
            headB = pre;
            headA = headA.next;
        }
        return null;
    }
}
```

#### 方法二：用哈希Set

HashSet放进元素是没有顺序的，但遍历headB是一个接一个来遍历的，因此找到的第一个相同节点就是相交节点。

```java
public class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        Set<ListNode> temp = new HashSet<ListNode>();
        ListNode pre = headA;
        while(headA != null){
            temp.add(headA);
            headA = headA.next;
        }
        pre = headB;
        while(headB != null){
            if(temp.contains(headB)){
                return headB;
            }
            headB = headB.next;
        }
        return null;
    }
}
```

#### 方法三：用双指针（超级巧妙！）

 关键点在于 A 链表 + B 链表，与 B 链表 + A 链表必然是相同的长度，所以一定会同时遍历到结尾。而这样的两个叠加链表同时遍历到有相同节点的时候，一定一边是 A 链表一边是 B 链表（因为题目保证没有环）。而相交节点开始到结尾的节点都相同，所以第一个相同的节点就是 A 链表和 B 链表的交点。

```java
public class Solution {
    public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
        ListNode pa = headA, pb = headB; // 不能直接移动headA和headB，因为会改变链表
        while(pa != pb){
            // if(pa == null){
            //     pa = headB;
            //     pb = pb.next;
            // }
            // else if(pb == null){
            //     pb = headA;
            //     pa = pa.next;
            // }
            // else{
            //     pa = pa.next;
            //     pb = pb.next;
            // }
            pa = pa == null ? headB : pa.next;
            pb = pb == null ? headA : pb.next;
        }
        return pa;
    }
}
```

补充图解：

![[Pasted image 20240716154144.png]]